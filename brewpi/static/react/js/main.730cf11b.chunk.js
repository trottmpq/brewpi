(this.webpackJsonpreactbrew=this.webpackJsonpreactbrew||[]).push([[0],{276:function(e,t,a){e.exports={graphContainer:"LineGraph_graphContainer__38PjS"}},297:function(e,t,a){e.exports=a(310)},310:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(17),l=a.n(o),i=a(45),c=(a(302),a(9)),s=a(369),m=a(336),u=a(372),p=Object(m.a)((function(){return Object(u.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),d=function(){return p(),null},h=a(288),g=a(18),f=Object(h.a)({palette:{background:{dark:"#F4F6F8",default:g.a.common.white,paper:g.a.common.white},primary:{main:g.a.indigo[500]},secondary:{main:g.a.indigo[500]},text:{primary:g.a.blueGrey[900],secondary:g.a.blueGrey[600],tertiary:g.a.common.white}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),b=a(68),E=a(93),v=a(370),y=a(314),x=a(371),C=a(340),k=a(143),O=a(269),S=a(160),j=a(107),T=a(4),w=a(312),_=a(338),N=Object(m.a)((function(e){return{item:{display:"flex",paddingTop:0,paddingBottom:0},button:{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightMedium,justifyContent:"flex-start",letterSpacing:0,padding:"10px 8px",textTransform:"none",width:"100%"},icon:{marginRight:e.spacing(1)},title:{marginRight:"auto"},active:{color:e.palette.primary.main,"& $title":{fontWeight:e.typography.fontWeightMedium},"& $icon":{color:e.palette.primary.main}}}})),B=function(e){var t=e.className,a=e.href,n=e.icon,o=e.title,l=Object(j.a)(e,["className","href","icon","title"]),c=N();return r.a.createElement(w.a,Object.assign({className:Object(T.a)(c.item,t),disableGutters:!0},l),r.a.createElement(_.a,{activeClassName:c.active,className:c.button,component:i.c,to:a},n&&r.a.createElement(n,{className:c.icon,size:"20"}),r.a.createElement("span",{className:c.title},o)))},W=a(270),L=a.n(W),U=[{href:"/",icon:k.a,title:"Home"},{href:"/kettles",icon:S.a,title:"Kettles"},{href:"/tempsensors",icon:O.a,title:"Temp Sensors"},{href:"/heaters",icon:S.b,title:"Heaters"},{href:"/pumps",icon:S.c,title:"Pumps"},{href:"/recipes",icon:L.a,title:"Recipes"}],R=Object(m.a)((function(){return{mobileDrawer:{width:256},desktopDrawer:{width:256,top:64,height:"calc(100% - 64px)"},avatar:{cursor:"pointer",width:64,height:64}}})),P=function(e){var t=e.onMobileClose,a=e.openMobile,o=R(),l=Object(c.f)();Object(n.useEffect)((function(){a&&t&&t()}),[l.pathname]);var i=r.a.createElement(v.a,{height:"100%",display:"flex",flexDirection:"column"},r.a.createElement(v.a,{p:2},r.a.createElement(y.a,null,U.map((function(e){return r.a.createElement(B,{href:e.href,key:e.title,title:e.title,icon:e.icon})})))));return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{lgUp:!0},r.a.createElement(C.a,{anchor:"left",classes:{paper:o.mobileDrawer},onClose:t,open:a,variant:"temporary"},i)),r.a.createElement(x.a,{mdDown:!0},r.a.createElement(C.a,{anchor:"left",classes:{paper:o.desktopDrawer},open:!0,variant:"persistent"},i)))};P.defaultProps={onMobileClose:function(){},openMobile:!1};var M=P,D=a(343),I=a(344),H=a(345),z=a(112),A=a(271),F=a.n(A),J=function(e){return r.a.createElement("img",Object.assign({alt:"Logo",src:"/static/react/static/frog.svg",width:"40",height:"40"},e))},q=Object(m.a)((function(){return{root:{}}})),G=function(e){var t=e.className,a=e.onMobileNavOpen,n=Object(j.a)(e,["className","onMobileNavOpen"]),o=q();return r.a.createElement(D.a,Object.assign({className:Object(T.a)(o.root,t),elevation:0},n),r.a.createElement(I.a,null,r.a.createElement(x.a,{lgUp:!0},r.a.createElement(H.a,{color:"inherit",onClick:a},r.a.createElement(F.a,null))),r.a.createElement(i.b,{to:"/"},r.a.createElement(J,null)),r.a.createElement(z.a,{align:"center",color:"textPrimary",variant:"h1"},"M&H Brew Co."),r.a.createElement(v.a,{flexGrow:1})))},K=Object(m.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:Object(E.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},e.breakpoints.up("lg"),{paddingLeft:256}),contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),V=function(){var e=K(),t=Object(n.useState)(!1),a=Object(b.a)(t,2),o=a[0],l=a[1];return r.a.createElement("div",{className:e.root},r.a.createElement(G,{onMobileNavOpen:function(){return l(!0)}}),r.a.createElement(M,{onMobileClose:function(){return l(!1)},openMobile:o}),r.a.createElement("div",{className:e.wrapper},r.a.createElement("div",{className:e.contentContainer},r.a.createElement("div",{className:e.content},r.a.createElement(c.b,null)))))},Y=a(347),$=a(272),Q=Object(n.forwardRef)((function(e,t){var a=e.children,n=e.title,o=void 0===n?"":n,l=Object(j.a)(e,["children","title"]);return r.a.createElement("div",Object.assign({ref:t},l),r.a.createElement($.a,{defaultTitle:"M&H BrewCo.",titleTemplate:"M&H BrewCo. - %s"},r.a.createElement("title",null,o),r.a.createElement("html",{lang:"en"}),r.a.createElement("meta",{name:"description",content:"M&H BrewCo. Brew Controller"}),r.a.createElement("noscript",null,"You need to enable JavaScript to run this app.")),a)}));Q.displayName="Something";var X=Q,Z=a(13),ee=a(14),te=a(16),ae=a(15),ne=a(275),re=a.n(ne),oe=a(276),le=a.n(oe),ie=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(e){var n;return Object(Z.a)(this,a),(n=t.call(this,e)).state={time:[],kettle1:{name:"",temperature:[],heater:[],target_temp:[]}},n.buildChart=function(){var e=n.chartRef.current.getContext("2d");"undefined"!==typeof n.myLineChart&&n.myLineChart.destroy(),n.myLineChart=new re.a(e,{type:"line",data:{labels:n.state.time,datasets:[{label:n.state.name+" Temperature",data:n.state.kettle1.temperature,fill:!1,borderColor:"#6610f2"},{label:n.state.name+" Heater",data:n.state.kettle1.heater,fill:!1,borderColor:"#661000"},{label:n.state.name+" Set temp",data:n.state.kettle1.target_temp,fill:!1,borderColor:"#0010f2"}]},options:{scales:{yAxes:[{type:"linear",ticks:{min:0,max:100}}],xAxes:[{type:"time",time:{unit:"second",stepSize:10}}]},animation:{duration:0}}})},n.chartRef=r.a.createRef(),n}return Object(ee.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getapi(),this.dataListId=setInterval((function(){return e.getapi()}),1e3)}},{key:"componentDidUpdate",value:function(){this.buildChart()}},{key:"componentWillUnmount",value:function(){clearInterval(this.dataListId)}},{key:"getapi",value:function(){var e=this;fetch("/api/devices/Kettle/".concat(this.props.kettle_id)).then((function(e){return e.json()})).then((function(t){e.setState({name:t.name});var a,n=e.state.kettle1.temperature;n.push(t.temp_sensor.temperature),t.heater&&(a=e.state.kettle1.heater).push(t.heater.state?100:0);var r=e.state.kettle1.target_temp;r.push(t.target_temp),e.setState({kettle1:{temperature:n,heater:a,target_temp:r}});var o=e.state.time;o.push(new Date),e.setState({time:o})})).catch(console.log)}},{key:"render",value:function(){return r.a.createElement("div",{className:le.a.graphContainer},r.a.createElement("canvas",{id:"myChart"+this.props.kettle_id,ref:this.chartRef}))}}]),a}(n.Component),ce=a(125),se=a(346),me=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).useStyles=Object(m.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1),width:e.spacing(16),height:e.spacing(16)}}}})),e.state={kettle_ids:[1,2,3]},e}return Object(ee.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:this.useStyles.root},r.a.createElement(se.a,{container:!0,spacing:3},this.state.kettle_ids.map((function(e){return r.a.createElement(se.a,{item:!0,xs:6,key:e},r.a.createElement(ce.a,{elevation:3},r.a.createElement(ie,{kettle_id:e})))}))))}}]),a}(n.Component),ue=Object(m.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),pe=function(){var e=ue();return r.a.createElement(X,{className:e.root,title:"Home"},r.a.createElement(Y.a,{maxWidth:!1},r.a.createElement(z.a,{variant:"h1",component:"h2"},"Frog Hop Brewery Dashboard"),r.a.createElement(me,null)))},de=function(){return r.a.createElement(X,{title:"404"},r.a.createElement(v.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},r.a.createElement(Y.a,{maxWidth:"md"},r.a.createElement(z.a,{align:"center",color:"textPrimary",variant:"h1"},"404: The page you are looking for isn\u2019t here"),r.a.createElement(z.a,{align:"center",color:"textPrimary",variant:"subtitle2"},"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"))))},he=a(313),ge=a(289),fe=a(350),be=a(351),Ee=a(352),ve=a(353),ye=a(348),xe=a(196),Ce=a(6),ke=a(349),Oe=a(62),Se=a(27),je=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).close=function(){e.props.handleClose()},e.deleteItem=function(){console.log("Deleting");var t="/api/devices/";t=(t=(t=t.concat(e.props.type)).concat("/")).concat(e.props.data.id),console.log(t),setTimeout((function(){fetch(t,{method:"DELETE",body:"",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)})),e.close()}),400)},e}return Object(ee.a)(a,[{key:"render",value:function(){var e=this,t=this.props.data;return r.a.createElement("div",null,r.a.createElement(ce.a,null,r.a.createElement(Y.a,{maxWidth:"sm"},r.a.createElement(Oe.a,{initialValues:{name:t.name,gpio_num:t.gpio_num,kettle_id:t.kettle_id},validationSchema:Se.b().shape({name:Se.c().max(255).required("Name is required"),gpio_num:Se.a().integer().required("GPIO Number is required"),kettle_id:Se.a().integer()}),onSubmit:function(t,a){var n=a.setSubmitting;console.log("Updating");var r="/api/devices/";r=(r=(r=r.concat(e.props.type)).concat("/")).concat(e.props.data.id),console.log(r),setTimeout((function(){fetch(r,{method:"PUT",body:JSON.stringify(t,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)})),n(!1),e.close()}),400)}},(function(t){var a=t.values,n=t.errors,o=t.touched,l=t.handleChange,i=t.handleBlur,c=t.handleSubmit,s=t.isSubmitting;return r.a.createElement("form",{onSubmit:c},r.a.createElement(v.a,{mb:3},r.a.createElement(z.a,{color:"textPrimary",variant:"h2"},e.props.data.name),r.a.createElement(z.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"Use this Form to update this item.")),r.a.createElement(ye.a,null),r.a.createElement(ke.a,{type:"text",name:"name",onChange:l,onBlur:i,value:a.name,error:Boolean(o.name&&n.name),fullWidth:!0,helperText:o.name&&n.name,label:"Name",margin:"normal",variant:"outlined"}),r.a.createElement(ke.a,{type:"number",name:"gpio_num",onChange:l,onBlur:i,value:a.gpio_num,error:Boolean(o.gpio_num&&n.gpio_num),fullWidth:!0,helperText:o.gpio_num&&n.gpio_num,label:"GPIO Number",margin:"normal",variant:"outlined"}),r.a.createElement(ke.a,{type:"number",name:"kettle_id",onChange:l,onBlur:i,value:a.kettle_id,error:Boolean(o.kettle_id&&n.kettle_id),fullWidth:!0,helperText:o.kettle_id&&n.kettle_id,label:"Kettle ID",margin:"normal",variant:"outlined"}),r.a.createElement(v.a,{my:2},r.a.createElement(_.a,{color:"primary",disabled:s,fullWidth:!0,size:"large",onClick:e.deleteItem,variant:"outlined"},"Delete")),r.a.createElement(v.a,{my:2},r.a.createElement(_.a,{color:"primary",disabled:s,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Submit")))})))))}}]),a}(n.Component),Te=Object(Ce.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))(je),we=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={show:!1},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e}return Object(ee.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(fe.a,null,r.a.createElement(be.a,{onClick:this.showModal},r.a.createElement(Ee.a,{title:this.props.data.name}),r.a.createElement(ye.a,null),r.a.createElement(ve.a,null,Object.keys(this.props.data).map((function(t,a){return r.a.createElement(z.a,{color:"textSecondary",key:a},t,":"," ",null===e.props.data[t]?"Unkown":e.props.data[t].toString())})))),r.a.createElement(xe.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:this.state.show,onClose:this.hideModal,closeAfterTransition:!0,BackdropComponent:ge.a,BackdropProps:{timeout:500}},r.a.createElement(Te,{type:this.props.type,handleClose:this.hideModal,data:this.props.data})))}}]),a}(n.Component),_e=Object(he.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))(we),Ne=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={datalist:[]},e}return Object(ee.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.dataListId=setInterval((function(){return e.getapi()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.dataListId)}},{key:"getapi",value:function(){var e=this;fetch(this.props.URL).then((function(e){return e.json()})).then((function(t){e.setState({datalist:t})})).catch(console.log)}},{key:"render",value:function(){var e=this;return r.a.createElement(se.a,{container:!0,spacing:3},this.state.datalist.map((function(t){return r.a.createElement(se.a,{item:!0,lg:3,sm:6,xl:3,xs:12,key:t.id},r.a.createElement(_e,{data:t,type:e.props.type}))})))}}]),a}(n.Component),Be=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).close=function(){},e}return Object(ee.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ce.a,null,r.a.createElement(Y.a,{maxWidth:"sm"},r.a.createElement(Oe.a,{initialValues:{name:"New Name",gpio_num:0,kettle_id:void 0},validationSchema:Se.b().shape({name:Se.c().max(255).required("Name is required"),gpio_num:Se.a().integer().required("GPIO Number is required"),kettle_id:Se.a().integer()}),onSubmit:function(t,a){var n=a.setSubmitting;console.log("Creating"),console.log(e.props.URL),setTimeout((function(){fetch(e.props.URL,{method:"POST",body:JSON.stringify(t,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)})),n(!1),e.close()}),400)}},(function(e){var t=e.values,a=e.errors,n=e.touched,o=e.handleChange,l=e.handleBlur,i=e.handleSubmit,c=e.isSubmitting;return r.a.createElement("form",{onSubmit:i},r.a.createElement(v.a,{mb:3},r.a.createElement(z.a,{color:"textPrimary",variant:"h2"},"Create Item"),r.a.createElement(z.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"Use this Form to create this item.")),r.a.createElement(ye.a,null),r.a.createElement(ke.a,{type:"text",name:"name",onChange:o,onBlur:l,value:t.name,error:Boolean(n.name&&a.name),fullWidth:!0,helperText:n.name&&a.name,label:"Name",margin:"normal",variant:"outlined"}),r.a.createElement(ke.a,{type:"number",name:"gpio_num",onChange:o,onBlur:l,value:t.gpio_num,error:Boolean(n.gpio_num&&a.gpio_num),fullWidth:!0,helperText:n.gpio_num&&a.gpio_num,label:"GPIO Number",margin:"normal",variant:"outlined"}),r.a.createElement(ke.a,{type:"number",name:"kettle_id",onChange:o,onBlur:l,value:t.kettle_id,error:Boolean(n.kettle_id&&a.kettle_id),fullWidth:!0,helperText:n.kettle_id&&a.kettle_id,label:"Kettle ID",margin:"normal",variant:"outlined"}),r.a.createElement(v.a,{my:2},r.a.createElement(_.a,{color:"primary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Submit")))})))))}}]),a}(n.Component),We=Object(Ce.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))(Be),Le=a(354),Ue=a(355),Re=a(47),Pe=a.n(Re),Me=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={createOpen:!1},e.openCreate=function(){console.log("Opening create dialog"),e.setState({createOpen:!0})},e.closeCreate=function(){console.log("Closing create dialog"),e.setState({createOpen:!1})},e}return Object(ee.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(X,{className:e.root,title:"Temperature Sensors"},r.a.createElement(Y.a,{maxWidth:!1},r.a.createElement(z.a,{variant:"h1",component:"h2"},"Temp Sensor List"),r.a.createElement(Ne,{URL:"/api/devices/TempSensor/",type:"TempSensor"}),r.a.createElement(Le.a,{onClose:this.closeCreate,open:this.state.createOpen},r.a.createElement(We,{URL:"/api/devices/TempSensor/",handleClose:this.closeCreate}))),r.a.createElement(Ue.a,{color:"secondary","aria-label":"add",className:e.fab,onClick:this.openCreate},r.a.createElement(Pe.a,null)))}}]),a}(n.Component),De=Object(he.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},fab:{margin:0,top:"auto",left:"auto",bottom:20,right:20,position:"fixed"}}}))(Me),Ie=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={createOpen:!1},e.openCreate=function(){console.log("Opening create dialog"),e.setState({createOpen:!0})},e.closeCreate=function(){console.log("Closing create dialog"),e.setState({createOpen:!1})},e}return Object(ee.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(X,{className:e.root,title:"Heaters"},r.a.createElement(Y.a,{maxWidth:!1},r.a.createElement(z.a,{variant:"h1",component:"h2"},"Heater List"),r.a.createElement(Ne,{URL:"/api/devices/Heater/",type:"Heater"}),r.a.createElement(Le.a,{onClose:this.closeCreate,open:this.state.createOpen},r.a.createElement(We,{URL:"/api/devices/Heater/",handleClose:this.closeCreate}))),r.a.createElement(Ue.a,{color:"secondary","aria-label":"add",className:e.fab,onClick:this.openCreate},r.a.createElement(Pe.a,null)))}}]),a}(n.Component),He=Object(he.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},fab:{margin:0,top:"auto",left:"auto",bottom:20,right:20,position:"fixed"}}}))(Ie),ze=a(357),Ae=a(374),Fe=a(282),Je=a.n(Fe),qe=a(373),Ge=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={createOpen:!1},e.close=function(){e.props.handleClose()},e.deleteKettle=function(){console.log("Deleting");var t=e.props.URL.concat(e.props.data.id);console.log(t),setTimeout((function(){fetch(t,{method:"DELETE",body:"",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)})),e.close()}),400)},e}return Object(ee.a)(a,[{key:"render",value:function(){var e=this,t=this.props.data;return r.a.createElement("div",null,r.a.createElement(ce.a,null,r.a.createElement(Y.a,{maxWidth:"sm"},r.a.createElement(Oe.a,{initialValues:{name:t.name,heater_id:t.heater_id},validationSchema:Se.b().shape({name:Se.c().max(255).required("Name is required")}),onSubmit:function(t,a){var n=a.setSubmitting,r=e.props.URL.concat(e.props.data.id);console.log(r),setTimeout((function(){fetch(r,{method:"PUT",body:JSON.stringify(t,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)})),n(!1),e.close()}),400)}},(function(t){var a=t.values,n=t.errors,o=t.touched,l=t.handleChange,i=t.handleBlur,c=t.handleSubmit,s=t.isSubmitting;return r.a.createElement("form",{onSubmit:c},r.a.createElement(v.a,{mb:3},r.a.createElement(z.a,{color:"textPrimary",variant:"h2"},e.props.data.name),r.a.createElement(z.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"Use this Form to update this item.")),r.a.createElement(ye.a,null),r.a.createElement(ke.a,{type:"text",name:"name",onChange:l,onBlur:i,value:a.name,error:Boolean(o.name&&n.name),fullWidth:!0,helperText:o.name&&n.name,label:"Name",margin:"normal",variant:"outlined"}),r.a.createElement(ke.a,{type:"number",name:"heater_id",onChange:l,onBlur:i,value:a.heater_id,error:Boolean(o.heater_id&&n.heater_id),fullWidth:!0,helperText:o.heater_id&&n.heater_id,label:"Heater ID",margin:"normal",variant:"outlined"}),r.a.createElement(v.a,{my:2},r.a.createElement(_.a,{disabled:s,fullWidth:!0,size:"large",variant:"outlined",onClick:e.close},"Cancel")),r.a.createElement(v.a,{my:2},r.a.createElement(_.a,{disabled:s,fullWidth:!0,size:"large",variant:"outlined",onClick:e.deleteKettle},"Delete")),r.a.createElement(v.a,{my:2},r.a.createElement(_.a,{color:"primary",disabled:s,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Submit")))})))))}}]),a}(n.Component),Ke=Object(Ce.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))(Ge),Ve=a(356),Ye=a(319),$e=a(327),Qe=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editOpen:!1},e.showEdit=function(){e.setState({editOpen:!0})},e.hideEdit=function(){e.setState({editOpen:!1})},e.handleChange=function(t){e.setState(Object(E.a)({},t.target.name,t.target.checked));var a=e.props.URL.concat(t.target.name);console.log(a);var n={state:t.target.checked};setTimeout((function(){fetch(a,{method:"PUT",body:JSON.stringify(n,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)}))}),400)},e.hystChange=function(t,a,n){var r=e.props.URL.concat(n),o={hyst_window:a};setTimeout((function(){fetch(r,{method:"PUT",body:JSON.stringify(o,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)}))}),400)},e.tempChange=function(t,a,n){var r=e.props.URL.concat(n);r=r.concat("/targettemp");var o={temperature:a};setTimeout((function(){fetch(r,{method:"PUT",body:JSON.stringify(o,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)}))}),400)},e.controlTypeChanged=function(t,a,n){var r=e.props.URL.concat(n),o={control_type:a.props.value};setTimeout((function(){fetch(r,{method:"PUT",body:JSON.stringify(o,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)}))}),400)},e}return Object(ee.a)(a,[{key:"valuetext",value:function(e){return"".concat(e,"\xb0C")}},{key:"render",value:function(){var e=this;return r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{title:this.props.data.name}),r.a.createElement(ye.a,null),r.a.createElement(ve.a,null,r.a.createElement(se.a,{container:!0,spacing:3},r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(z.a,{color:"textSecondary"},"Temperature")),r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(z.a,{color:"textSecondary"},null!=this.props.data.temp_sensor?this.props.data.temp_sensor.temperature:0)),r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(z.a,{color:"textSecondary"},"Pump")),r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(Ae.a,{checked:null!=this.props.data.pump&&this.props.data.pump.state,onChange:this.handleChange,name:String(this.props.data.id).concat("/pumpstate"),color:"primary",disabled:null==this.props.data.pump})),r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(z.a,{color:"textSecondary"},"Heater")),r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(Ae.a,{checked:null!=this.props.data.heater&&this.props.data.heater.state,onChange:this.handleChange,name:String(this.props.data.id).concat("/heaterstate"),color:"primary",disabled:!(null!=this.props.data.heater&&!this.props.data.is_running)})),r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(z.a,{color:"textSecondary"},"Control")),r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(Ae.a,{checked:this.props.data.is_running,onChange:this.handleChange,name:String(this.props.data.id).concat("/controlloop"),color:"primary",disabled:null==this.props.data.heater})),r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(z.a,{color:"textSecondary"},"Control Type")),r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(Ye.a,null,r.a.createElement($e.a,{labelId:"demo-customized-select-label",id:"demo-customized-select",value:this.props.data.control_type,onChange:function(t,a){return e.controlTypeChanged(t,a,e.props.data.id)}},r.a.createElement(Ve.a,{value:"PWM"},"PWM"),r.a.createElement(Ve.a,{value:"HYSTERESIS"},"Hysteresis"),r.a.createElement(Ve.a,{value:"PID"},"PID")))),r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(z.a,{color:"textSecondary"},"Target Temperature")),r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(qe.a,{name:"SetTemp",defaultValue:0,getAriaValueText:this.valuetext,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",color:"secondary",step:1,min:10,max:100,onChangeCommitted:function(t,a){return e.tempChange(t,a,e.props.data.id)}})),r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(z.a,{color:"textSecondary"},"Hysteresis")),r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(qe.a,{name:"Hysteresis",defaultValue:0,getAriaValueText:this.valuetext,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",color:"secondary",step:1,min:1,max:10,onChangeCommitted:function(t,a){return e.hystChange(t,a,e.props.data.id)}}))),r.a.createElement(Le.a,{onClose:this.showEdit,"aria-labelledby":"edit-dialog",open:this.state.editOpen},r.a.createElement(Ke,{handleClose:this.hideEdit,data:this.props.data,URL:this.props.URL}))),r.a.createElement(ze.a,null,r.a.createElement(H.a,{"aria-label":"edit",onClick:this.showEdit},r.a.createElement(Je.a,null))))}}]),a}(n.Component),Xe=Object(he.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},Icon:{height:38,width:38},container:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridGap:e.spacing(3)}}}))(Qe),Ze=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={datalist:[]},e}return Object(ee.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.dataListId=setInterval((function(){return e.getapi()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.dataListId)}},{key:"getapi",value:function(){var e=this;fetch(this.props.URL).then((function(e){return e.json()})).then((function(t){e.setState({datalist:t})})).catch(console.log)}},{key:"render",value:function(){var e=this;return r.a.createElement(se.a,{container:!0,spacing:3},this.state.datalist.map((function(t){return r.a.createElement(se.a,{item:!0,lg:3,sm:6,xl:3,xs:12,key:t.id},r.a.createElement(Xe,{data:t,URL:e.props.URL}))})))}}]),a}(n.Component),et=Object(m.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},fab:{margin:0,top:"auto",left:"auto",bottom:20,right:20,position:"fixed"}}}));function tt(){var e=et(),t=r.a.useState(!1),a=Object(b.a)(t,2),n=a[0],o=a[1],l=function(){o(!1)};return r.a.createElement("div",null,r.a.createElement(Ue.a,{color:"primary","aria-label":"add",className:e.fab,onClick:function(){o(!0)}},r.a.createElement(Pe.a,null)),r.a.createElement(xe.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:n,onClose:l,closeAfterTransition:!0,BackdropComponent:ge.a,BackdropProps:{timeout:500}},r.a.createElement(ce.a,null,r.a.createElement(Y.a,{maxWidth:"sm"},r.a.createElement(Oe.a,{initialValues:{name:"",heater_id:void 0},validationSchema:Se.b().shape({name:Se.c().max(255).required("Name is required")}),onSubmit:function(e,t){var a=t.setSubmitting;setTimeout((function(){fetch("/api/devices/Kettle/",{method:"POST",body:JSON.stringify(e,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)})),a(!1),l()}),400)}},(function(e){var t=e.values,a=e.errors,n=e.touched,o=e.handleChange,l=e.handleBlur,i=e.handleSubmit,c=e.isSubmitting;return r.a.createElement("form",{onSubmit:i},r.a.createElement(v.a,{mb:3},r.a.createElement(z.a,{color:"textPrimary",variant:"h2"},"Create new Kettle"),r.a.createElement(z.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"Use this Form to create a new kettle.")),r.a.createElement(ye.a,null),r.a.createElement(ke.a,{type:"text",name:"name",onChange:o,onBlur:l,value:t.name,error:Boolean(n.name&&a.name),fullWidth:!0,helperText:n.name&&a.name,label:"Name",margin:"normal",variant:"outlined"}),r.a.createElement(ke.a,{type:"number",name:"heater_id",onChange:o,onBlur:l,value:t.heater_id,error:Boolean(n.heater_id&&a.heater_id),fullWidth:!0,helperText:n.heater_id&&a.heater_id,label:"Heater ID",margin:"normal",variant:"outlined"}),r.a.createElement(v.a,{my:2},r.a.createElement(_.a,{color:"primary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Submit")))}))))))}var at=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(){return Object(Z.a)(this,a),t.apply(this,arguments)}return Object(ee.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(X,{className:e.root,title:"Kettles"},r.a.createElement(Y.a,{maxWidth:!1},r.a.createElement(z.a,{variant:"h1",component:"h2"},"Kettle List"),r.a.createElement(Ze,{URL:"/api/devices/Kettle/"}),r.a.createElement(tt,null)))}}]),a}(n.Component),nt=Object(he.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},fab:{margin:0,top:"auto",left:"auto",bottom:20,right:20,position:"fixed"}}}))(at),rt=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={createOpen:!1},e.openCreate=function(){console.log("Opening create dialog"),e.setState({createOpen:!0})},e.closeCreate=function(){console.log("Closing create dialog"),e.setState({createOpen:!1})},e}return Object(ee.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(X,{className:e.root,title:"Pumps"},r.a.createElement(Y.a,{maxWidth:!1},r.a.createElement(z.a,{variant:"h1",component:"h2"},"Pumps List"),r.a.createElement(Ne,{URL:"/api/devices/Pump/",type:"Pump"}),r.a.createElement(Le.a,{onClose:this.closeCreate,open:this.state.createOpen},r.a.createElement(We,{URL:"/api/devices/Pump/",handleClose:this.closeCreate}))),r.a.createElement(Ue.a,{color:"secondary","aria-label":"add",className:e.fab,onClick:this.openCreate},r.a.createElement(Pe.a,null)))}}]),a}(n.Component),ot=Object(he.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},fab:{margin:0,top:"auto",left:"auto",bottom:20,right:20,position:"fixed"}}}))(rt),lt=a(193),it=a.n(lt),ct=a(283),st=a(368),mt=a(287),ut=a.n(mt),pt=a(284),dt=a.n(pt),ht=a(286),gt=a.n(ht),ft=a(285),bt=a.n(ft),Et=a(359),vt=a(363),yt=a(362),xt=a(358),Ct=a(360),kt=a(361),Ot=a(281),St=a(367),jt=a(365),Tt=a(366),wt=a(364),_t=Object(m.a)((function(e){return{root:{},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},table:{minWidth:10}}}));function Nt(e){var t=_t(),a=r.a.useState(!1),n=Object(b.a)(a,2),o=n[0],l=n[1],i=r.a.useState(null),c=Object(b.a)(i,2),s=c[0],m=c[1],u=r.a.useState(!1),p=Object(b.a)(u,2),d=p[0],h=p[1],g=function(){h(!1)};var f=function(){m(null)};return r.a.createElement(fe.a,{className:t.root},r.a.createElement(Ot.a,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:f},r.a.createElement(Ve.a,{onClick:f},"Edit"),r.a.createElement(Ve.a,{onClick:function(){var t="api/recipes/Recipe/".concat(e.data.id);setTimeout((function(){fetch(t,{method:"DELETE",body:"",headers:{"Content-Type":"application/json"}}).catch((function(e){return console.error("Error:",e)})).then((function(t){console.log("Success:",t),e.onChange()}))}),400),m(null)}},"Delete")),r.a.createElement(Le.a,{open:d,keepMounted:!0,onClose:g,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(wt.a,{id:"alert-dialog-slide-title"},"Start Brew?"),r.a.createElement(jt.a,null,r.a.createElement(Tt.a,{id:"alert-dialog-slide-description"},"Ready to brew?")),r.a.createElement(St.a,null,r.a.createElement(_.a,{onClick:g,color:"primary"},"No..."),r.a.createElement(_.a,{onClick:g,color:"primary"},"Yes!"))),r.a.createElement(Ee.a,{action:r.a.createElement(H.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)}},r.a.createElement(dt.a,null)),title:e.data.id+" - "+e.data.name,subheader:e.data.style.name}),r.a.createElement(ve.a,null,r.a.createElement(se.a,{container:!0,className:t.root,spacing:2},r.a.createElement(se.a,{item:!0,xs:12},function(e){var t=_t();return r.a.createElement(xt.a,{component:ce.a},r.a.createElement(Et.a,{className:t.table,size:"small","aria-label":"simple table"},r.a.createElement(Ct.a,null,r.a.createElement(kt.a,null,r.a.createElement(yt.a,null,"Batch Size"),r.a.createElement(yt.a,null,"OG"),r.a.createElement(yt.a,null,"FG"),r.a.createElement(yt.a,null,"ABV"))),r.a.createElement(vt.a,null,r.a.createElement(kt.a,{key:e.data.name},r.a.createElement(yt.a,null," ",e.data.batch_size.toFixed(2)," "),r.a.createElement(yt.a,null,e.data.og),r.a.createElement(yt.a,null,e.data.fg),r.a.createElement(yt.a,null,e.data.abv.toFixed(2)))),r.a.createElement(Ct.a,null,r.a.createElement(kt.a,null,r.a.createElement(yt.a,null,"Boil Time"),r.a.createElement(yt.a,null,"Mash pH"),r.a.createElement(yt.a,null,"Carbonation"),r.a.createElement(yt.a,null,"ABV"))),r.a.createElement(vt.a,null,r.a.createElement(kt.a,{key:e.data.name},r.a.createElement(yt.a,null," ",e.data.boil_time," "),r.a.createElement(yt.a,null,e.data.mash.ph),r.a.createElement(yt.a,null,e.data.carbonation),r.a.createElement(yt.a,null,e.data.abv.toFixed(2))))))}(e)),r.a.createElement(se.a,{item:!0,xs:12,hidden:!e.data.notes},r.a.createElement(z.a,{variant:"h3",component:"p"},"Brewers Notes"),r.a.createElement(z.a,{variant:"body2",color:"textSecondary",component:"p"},e.data.notes)),r.a.createElement(se.a,{item:!0,xs:12,hidden:!e.data.taste_notes},r.a.createElement(z.a,{variant:"h3",component:"p"},"Tasting Notes"),r.a.createElement(z.a,{variant:"body2",color:"textSecondary",component:"p"},e.data.taste_notes)))),r.a.createElement(ze.a,{disableSpacing:!0},r.a.createElement(H.a,{"aria-label":"add to favorites",onClick:function(){var t="api/recipes/Recipe/".concat(e.data.id),a={favourite:!e.data.favourite};setTimeout((function(){fetch(t,{method:"PUT",body:JSON.stringify(a,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(t){console.log("Success:",t),e.onChange()}))}),400)}},e.data.favourite?r.a.createElement(bt.a,null):r.a.createElement(gt.a,null)),r.a.createElement(H.a,{"aria-label":"share",onClick:function(){h(!0)}},r.a.createElement(k.a,null)),r.a.createElement(H.a,{className:Object(T.a)(t.expand,Object(E.a)({},t.expandOpen,o)),onClick:function(){l(!o)},"aria-expanded":o,"aria-label":"show more"},r.a.createElement(ut.a,null))),r.a.createElement(st.a,{in:o,timeout:"auto",unmountOnExit:!0},r.a.createElement(ve.a,null,r.a.createElement(se.a,{container:!0,className:t.root,spacing:2},r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(z.a,{variant:"h3",component:"p"},"Fermentables"),function(e){var t=_t();return r.a.createElement(xt.a,{component:ce.a},r.a.createElement(Et.a,{className:t.table,size:"small","aria-label":"simple table"},r.a.createElement(Ct.a,null,r.a.createElement(kt.a,null,r.a.createElement(yt.a,null,"Name"),r.a.createElement(yt.a,null,"Amount (kg)"),r.a.createElement(yt.a,null,"Colour (\xb0L)"))),r.a.createElement(vt.a,null,e.data.fermentables.map((function(e){return r.a.createElement(kt.a,{key:e.name},r.a.createElement(yt.a,null," ",e.name," "),r.a.createElement(yt.a,null,e.amount.toFixed(2)),r.a.createElement(yt.a,null,e.color))})))))}(e)),r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(z.a,{variant:"h3",component:"p"},"Hops"),function(e){var t=_t();return r.a.createElement(xt.a,{component:ce.a},r.a.createElement(Et.a,{className:t.table,size:"small","aria-label":"simple table"},r.a.createElement(Ct.a,null,r.a.createElement(kt.a,null,r.a.createElement(yt.a,null,"Name"),r.a.createElement(yt.a,null,"Amount (g)"),r.a.createElement(yt.a,null,"Use"),r.a.createElement(yt.a,null,"Time"))),r.a.createElement(vt.a,null,e.data.hops.map((function(t,a){return r.a.createElement(kt.a,{key:a},r.a.createElement(yt.a,null," ",t.name," "),r.a.createElement(yt.a,null,(1e3*t.amount).toFixed(2)),r.a.createElement(yt.a,null,t.use),r.a.createElement(yt.a,null,t.time<=e.data.boil_time?t.time+" mins":t.time/60/24+" days"))})))))}(e)),r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(z.a,{variant:"h3",component:"p"},"Yeasts"),function(e){var t=_t();return r.a.createElement(xt.a,{component:ce.a},r.a.createElement(Et.a,{className:t.table,size:"small","aria-label":"simple table"},r.a.createElement(Ct.a,null,r.a.createElement(kt.a,null,r.a.createElement(yt.a,null,"Name"),r.a.createElement(yt.a,null,"Temperature (\xb0C)"),r.a.createElement(yt.a,null,"Flocculation"))),r.a.createElement(vt.a,null,e.data.yeasts.map((function(e,t){return r.a.createElement(kt.a,{key:t},r.a.createElement(yt.a,null," ",e.name," "),r.a.createElement(yt.a,null,Math.round(e.min_temperature)+" to "+Math.round(e.max_temperature)),r.a.createElement(yt.a,null,e.flocculation))})))))}(e)),r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(z.a,{variant:"h3",component:"p"},"Mash Steps"),function(e){var t=_t();return r.a.createElement(xt.a,{component:ce.a},r.a.createElement(Et.a,{className:t.table,size:"small","aria-label":"simple table"},r.a.createElement(Ct.a,null,r.a.createElement(kt.a,null,r.a.createElement(yt.a,null,"Step"),r.a.createElement(yt.a,null,"Amount (L)"),r.a.createElement(yt.a,null,"Type"),r.a.createElement(yt.a,null,"Temperature (\xb0C)"),r.a.createElement(yt.a,null,"Time (mins)"))),r.a.createElement(vt.a,null,e.data.mash.mash_steps.map((function(e,t){return r.a.createElement(kt.a,{key:t},r.a.createElement(yt.a,null," ",e.name," "),r.a.createElement(yt.a,null,e.infuse_amount?e.infuse_amount.toFixed(2):""),r.a.createElement(yt.a,null,e.type),r.a.createElement(yt.a,null,Math.round(e.step_temp)),r.a.createElement(yt.a,null,Math.round(e.step_time)))})))))}(e))))))}var Bt=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={recipelist:[]},e.openCreate=function(){console.log("Opening create dialog"),e.setState({createOpen:!0})},e.closeCreate=function(){console.log("Closing create dialog"),e.setState({createOpen:!1})},e.onChangeHandler=function(t){console.log(t.target.files[0].name),t.preventDefault();var a=new FileReader;a.onload=function(){var t=Object(ct.a)(it.a.mark((function t(a){var n,r;return it.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.target.result,r={xml:n,favourite:!1},console.log(r),setTimeout((function(){fetch("api/recipes/Recipe/",{method:"POST",body:JSON.stringify(r,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(t){console.log("Success:",t),e.getapi()}))}),400);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.readAsText(t.target.files[0])},e}return Object(ee.a)(a,[{key:"componentDidMount",value:function(){this.getapi=this.getapi.bind(this),this.getapi()}},{key:"getapi",value:function(){var e=this;fetch("api/recipes/Recipe/").then((function(e){return e.json()})).then((function(t){e.setState({recipelist:t})})).catch(console.log)}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(X,{className:t.root,title:"Recipes"},r.a.createElement(Y.a,{maxWidth:!1},r.a.createElement(z.a,{variant:"h1",component:"h2"},"Recipes"),r.a.createElement("input",{type:"file",name:"file",onChange:function(t){return e.onChangeHandler(t)}}),r.a.createElement(se.a,{container:!0,spacing:3},this.state.recipelist.map((function(t){return r.a.createElement(se.a,{item:!0,lg:6,sm:6,xl:6,xs:6,key:t.id},r.a.createElement(Nt,{data:t,onChange:e.getapi}))})))),r.a.createElement(Ue.a,{color:"secondary","aria-label":"add",className:t.fab,onClick:this.openCreate},r.a.createElement(Pe.a,null)))}}]),a}(n.Component),Wt=Object(he.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},fab:{margin:0,top:"auto",left:"auto",bottom:20,right:20,position:"fixed"}}}))(Bt),Lt=[{path:"/",element:r.a.createElement(V,null),children:[{path:"",element:r.a.createElement(pe,null)},{path:"tempsensors",element:r.a.createElement(De,null)},{path:"heaters",element:r.a.createElement(He,null)},{path:"kettles",element:r.a.createElement(nt,null)},{path:"pumps",element:r.a.createElement(ot,null)},{path:"recipes",element:r.a.createElement(Wt,null)},{path:"404",element:r.a.createElement(de,null)},{path:"*",element:r.a.createElement(c.a,{to:"/404"})}]}],Ut=function(){var e=Object(c.i)(Lt);return r.a.createElement(s.a,{theme:f},r.a.createElement(d,null),e)};l.a.render(r.a.createElement(i.a,null,r.a.createElement(Ut,null)),document.getElementById("root"))}},[[297,1,2]]]);
//# sourceMappingURL=main.730cf11b.chunk.js.map