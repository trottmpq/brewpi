(this.webpackJsonpreactbrew=this.webpackJsonpreactbrew||[]).push([[0],{271:function(e,t,a){e.exports={graphContainer:"LineGraph_graphContainer__38PjS"}},288:function(e,t,a){e.exports=a(300)},300:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(13),l=a.n(o),i=a(42),c=(a(293),a(9)),s=a(347),p=a(325),u=a(351),m=Object(p.a)((function(){return Object(u.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),d=function(){return m(),null},h=a(278),g=a(19),b=Object(h.a)({palette:{background:{dark:"#F4F6F8",default:g.a.common.white,paper:g.a.common.white},primary:{main:g.a.indigo[500]},secondary:{main:g.a.indigo[500]},text:{primary:g.a.blueGrey[900],secondary:g.a.blueGrey[600],tertiary:g.a.common.white}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),f=a(143),E=a(131),x=a(348),v=a(303),y=a(349),C=a(330),O=a(264),j=a(265),k=a(149),S=a(100),w=a(4),T=a(327),N=a(328),_=Object(p.a)((function(e){return{item:{display:"flex",paddingTop:0,paddingBottom:0},button:{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightMedium,justifyContent:"flex-start",letterSpacing:0,padding:"10px 8px",textTransform:"none",width:"100%"},icon:{marginRight:e.spacing(1)},title:{marginRight:"auto"},active:{color:e.palette.primary.main,"& $title":{fontWeight:e.typography.fontWeightMedium},"& $icon":{color:e.palette.primary.main}}}})),B=function(e){var t=e.className,a=e.href,n=e.icon,o=e.title,l=Object(S.a)(e,["className","href","icon","title"]),c=_();return r.a.createElement(T.a,Object.assign({className:Object(w.a)(c.item,t),disableGutters:!0},l),r.a.createElement(N.a,{activeClassName:c.active,className:c.button,component:i.c,to:a},n&&r.a.createElement(n,{className:c.icon,size:"20"}),r.a.createElement("span",{className:c.title},o)))},W=[{href:"/app/home",icon:O.a,title:"Home"},{href:"/app/kettles",icon:k.a,title:"Kettles"},{href:"/app/tempsensors",icon:j.a,title:"Temp Sensors"},{href:"/app/heaters",icon:k.b,title:"Heaters"},{href:"/app/pumps",icon:k.c,title:"Pumps"}],L=Object(p.a)((function(){return{mobileDrawer:{width:256},desktopDrawer:{width:256,top:64,height:"calc(100% - 64px)"},avatar:{cursor:"pointer",width:64,height:64}}})),U=function(e){var t=e.onMobileClose,a=e.openMobile,o=L(),l=Object(c.f)();Object(n.useEffect)((function(){a&&t&&t()}),[l.pathname]);var i=r.a.createElement(x.a,{height:"100%",display:"flex",flexDirection:"column"},r.a.createElement(x.a,{p:2},r.a.createElement(v.a,null,W.map((function(e){return r.a.createElement(B,{href:e.href,key:e.title,title:e.title,icon:e.icon})})))));return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{lgUp:!0},r.a.createElement(C.a,{anchor:"left",classes:{paper:o.mobileDrawer},onClose:t,open:a,variant:"temporary"},i)),r.a.createElement(y.a,{mdDown:!0},r.a.createElement(C.a,{anchor:"left",classes:{paper:o.desktopDrawer},open:!0,variant:"persistent"},i)))};U.defaultProps={onMobileClose:function(){},openMobile:!1};var P=U,R=a(333),I=a(334),D=a(335),M=a(151),H=a(266),z=a.n(H),A=function(e){return r.a.createElement("img",Object.assign({alt:"Logo",src:"/static/hopslogo.svg",width:"50",height:"50"},e))},K=Object(p.a)((function(){return{root:{}}})),q=function(e){var t=e.className,a=e.onMobileNavOpen,n=Object(S.a)(e,["className","onMobileNavOpen"]),o=K();return r.a.createElement(R.a,Object.assign({className:Object(w.a)(o.root,t),elevation:0},n),r.a.createElement(I.a,null,r.a.createElement(y.a,{lgUp:!0},r.a.createElement(D.a,{color:"inherit",onClick:a},r.a.createElement(z.a,null))),r.a.createElement(i.b,{to:"/"},r.a.createElement(A,null)),r.a.createElement(M.a,{align:"center",color:"textPrimary",variant:"h1"},"M&H Brew Co."),r.a.createElement(x.a,{flexGrow:1})))},G=Object(p.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:Object(E.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},e.breakpoints.up("lg"),{paddingLeft:256}),contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),J=function(){var e=G(),t=Object(n.useState)(!1),a=Object(f.a)(t,2),o=a[0],l=a[1];return r.a.createElement("div",{className:e.root},r.a.createElement(q,{onMobileNavOpen:function(){return l(!0)}}),r.a.createElement(P,{onMobileClose:function(){return l(!1)},openMobile:o}),r.a.createElement("div",{className:e.wrapper},r.a.createElement("div",{className:e.contentContainer},r.a.createElement("div",{className:e.content},r.a.createElement(c.b,null)))))},F=Object(p.a)((function(e){return{root:{backgroundColor:e.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:{display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),V=function(){var e=F();return r.a.createElement("div",{className:e.root},r.a.createElement(q,null),r.a.createElement("div",{className:e.wrapper},r.a.createElement("div",{className:e.contentContainer},r.a.createElement("div",{className:e.content},r.a.createElement(c.b,null)))))},$=a(336),Y=a(267),Q=Object(n.forwardRef)((function(e,t){var a=e.children,n=e.title,o=void 0===n?"":n,l=Object(S.a)(e,["children","title"]);return r.a.createElement("div",Object.assign({ref:t},l),r.a.createElement(Y.a,{defaultTitle:"M&H BrewCo.",titleTemplate:"M&H BrewCo. - %s"},r.a.createElement("title",null,o),r.a.createElement("html",{lang:"en"}),r.a.createElement("meta",{name:"description",content:"M&H BrewCo. Brew Controller"}),r.a.createElement("noscript",null,"You need to enable JavaScript to run this app.")),a)}));Q.displayName="Something";var X,Z=Q,ee=a(14),te=a(15),ae=a(17),ne=a(16),re=a(270),oe=a.n(re),le=a(271),ie=a.n(le),ce=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).chartRef=r.a.createRef(),e.state={time:[],data1:[],data2:[],data3:[]},e.buildChart=function(){var t=e.chartRef.current.getContext("2d");"undefined"!==typeof X&&X.destroy(),X=new oe.a(t,{type:"line",data:{labels:e.state.time,datasets:[{label:"Kettle 1 Temperature",data:e.state.data1,fill:!1,borderColor:"#6610f2"},{label:"Kettle 2 Temperature",data:e.state.data2,fill:!1,borderColor:"#0010f2"},{label:"Kettle 3 Temperature",data:e.state.data3,fill:!1,borderColor:"#661000"}]},options:{scales:{yAxes:[{type:"linear",ticks:{min:0,max:100}}],xAxes:[{type:"time",time:{unit:"second",stepSize:10}}]},animation:{duration:0}}})},e}return Object(te.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.buildChart(),this.dataListId=setInterval((function(){return e.getapi()}),1e3)}},{key:"componentDidUpdate",value:function(){this.buildChart()}},{key:"componentWillUnmount",value:function(){clearInterval(this.dataListId)}},{key:"getapi",value:function(){var e=this;fetch("/api/devices/Kettle/1/temperature").then((function(e){return e.json()})).then((function(t){e.state.data1.push(t.temperature),e.state.time.push(new Date),e.buildChart()})).catch(console.log),fetch("/api/devices/Kettle/2/temperature").then((function(e){return e.json()})).then((function(t){e.state.data2.push(t.temperature),e.buildChart()})).catch(console.log),fetch("/api/devices/Kettle/3/temperature").then((function(e){return e.json()})).then((function(t){e.state.data3.push(t.temperature),e.buildChart()})).catch(console.log)}},{key:"render",value:function(){return r.a.createElement("div",{className:ie.a.graphContainer},r.a.createElement("canvas",{id:"myChart",ref:this.chartRef}))}}]),a}(n.Component),se=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ce,null))}}]),a}(n.Component),pe=Object(p.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),ue=function(){var e=pe();return r.a.createElement(Z,{className:e.root,title:"Home"},r.a.createElement($.a,{maxWidth:!1},r.a.createElement(M.a,{variant:"h1",component:"h2"},"Frog Hop Brewery Dashboard"),r.a.createElement(se,null)))},me=function(){return r.a.createElement("p",null," 404 ")},de=a(302),he=a(343),ge=a(279),be=a(339),fe=a(340),Ee=a(341),xe=a(342),ve=a(337),ye=a(177),Ce=a(6),Oe=a(114),je=a(338),ke=a(59),Se=a(26),we=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).close=function(){e.props.handleClose()},e.deleteItem=function(){console.log("Deleting");var t="/api/devices/";t=(t=(t=t.concat(e.props.type)).concat("/")).concat(e.props.data.id),console.log(t),setTimeout((function(){fetch(t,{method:"DELETE",body:"",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)})),e.close()}),400)},e}return Object(te.a)(a,[{key:"render",value:function(){var e=this,t=this.props.data;return r.a.createElement("div",null,r.a.createElement(Oe.a,null,r.a.createElement($.a,{maxWidth:"sm"},r.a.createElement(ke.a,{initialValues:{name:t.name,gpio_num:t.gpio_num,kettle_id:t.kettle_id},validationSchema:Se.b().shape({name:Se.c().max(255).required("Name is required"),gpio_num:Se.a().integer().required("GPIO Number is required"),kettle_id:Se.a().integer()}),onSubmit:function(t,a){var n=a.setSubmitting;console.log("Updating");var r="/api/devices/";r=(r=(r=r.concat(e.props.type)).concat("/")).concat(e.props.data.id),console.log(r),setTimeout((function(){fetch(r,{method:"PUT",body:JSON.stringify(t,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)})),n(!1),e.close()}),400)}},(function(t){var a=t.values,n=t.errors,o=t.touched,l=t.handleChange,i=t.handleBlur,c=t.handleSubmit,s=t.isSubmitting;return r.a.createElement("form",{onSubmit:c},r.a.createElement(x.a,{mb:3},r.a.createElement(M.a,{color:"textPrimary",variant:"h2"},e.props.data.name),r.a.createElement(M.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"Use this Form to update this item.")),r.a.createElement(ve.a,null),r.a.createElement(je.a,{type:"text",name:"name",onChange:l,onBlur:i,value:a.name,error:Boolean(o.name&&n.name),fullWidth:!0,helperText:o.name&&n.name,label:"Name",margin:"normal",variant:"outlined"}),r.a.createElement(je.a,{type:"number",name:"gpio_num",onChange:l,onBlur:i,value:a.gpio_num,error:Boolean(o.gpio_num&&n.gpio_num),fullWidth:!0,helperText:o.gpio_num&&n.gpio_num,label:"GPIO Number",margin:"normal",variant:"outlined"}),r.a.createElement(je.a,{type:"number",name:"kettle_id",onChange:l,onBlur:i,value:a.kettle_id,error:Boolean(o.kettle_id&&n.kettle_id),fullWidth:!0,helperText:o.kettle_id&&n.kettle_id,label:"Kettle ID",margin:"normal",variant:"outlined"}),r.a.createElement(x.a,{my:2},r.a.createElement(N.a,{color:"primary",disabled:s,fullWidth:!0,size:"large",onClick:e.deleteItem,variant:"outlined"},"Delete")),r.a.createElement(x.a,{my:2},r.a.createElement(N.a,{color:"primary",disabled:s,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Submit")))})))))}}]),a}(n.Component),Te=Object(Ce.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))(we),Ne=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={show:!1},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return console.log(this.props.data),r.a.createElement(be.a,null,r.a.createElement(fe.a,{onClick:this.showModal},r.a.createElement(Ee.a,{title:this.props.data.name}),r.a.createElement(ve.a,null),r.a.createElement(xe.a,null,Object.keys(this.props.data).map((function(t,a){return r.a.createElement(M.a,{color:"textSecondary",key:a},t,":"," ",null===e.props.data[t]?"Unkown":e.props.data[t].toString())})))),r.a.createElement(ye.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:this.state.show,onClose:this.hideModal,closeAfterTransition:!0,BackdropComponent:ge.a,BackdropProps:{timeout:500}},r.a.createElement(Te,{type:this.props.type,handleClose:this.hideModal,data:this.props.data})))}}]),a}(n.Component),_e=Object(de.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))(Ne),Be=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={datalist:[]},e}return Object(te.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.dataListId=setInterval((function(){return e.getapi()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.dataListId)}},{key:"getapi",value:function(){var e=this;fetch(this.props.URL).then((function(e){return e.json()})).then((function(t){e.setState({datalist:t})})).catch(console.log)}},{key:"render",value:function(){var e=this;return r.a.createElement(he.a,{container:!0,spacing:3},this.state.datalist.map((function(t){return r.a.createElement(he.a,{item:!0,lg:3,sm:6,xl:3,xs:12,key:t.id},r.a.createElement(_e,{data:t,type:e.props.type}))})))}}]),a}(n.Component),We=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).close=function(){},e}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Oe.a,null,r.a.createElement($.a,{maxWidth:"sm"},r.a.createElement(ke.a,{initialValues:{name:"New Name",gpio_num:0,kettle_id:0},validationSchema:Se.b().shape({name:Se.c().max(255).required("Name is required"),gpio_num:Se.a().integer().required("GPIO Number is required"),kettle_id:Se.a().integer()}),onSubmit:function(t,a){var n=a.setSubmitting;console.log("Creating"),console.log(e.props.URL),setTimeout((function(){fetch(e.props.URL,{method:"POST",body:JSON.stringify(t,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)})),n(!1),e.close()}),400)}},(function(e){var t=e.values,a=e.errors,n=e.touched,o=e.handleChange,l=e.handleBlur,i=e.handleSubmit,c=e.isSubmitting;return r.a.createElement("form",{onSubmit:i},r.a.createElement(x.a,{mb:3},r.a.createElement(M.a,{color:"textPrimary",variant:"h2"},"Create Item"),r.a.createElement(M.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"Use this Form to create this item.")),r.a.createElement(ve.a,null),r.a.createElement(je.a,{type:"text",name:"name",onChange:o,onBlur:l,value:t.name,error:Boolean(n.name&&a.name),fullWidth:!0,helperText:n.name&&a.name,label:"Name",margin:"normal",variant:"outlined"}),r.a.createElement(je.a,{type:"number",name:"gpio_num",onChange:o,onBlur:l,value:t.gpio_num,error:Boolean(n.gpio_num&&a.gpio_num),fullWidth:!0,helperText:n.gpio_num&&a.gpio_num,label:"GPIO Number",margin:"normal",variant:"outlined"}),r.a.createElement(je.a,{type:"number",name:"kettle_id",onChange:o,onBlur:l,value:t.kettle_id,error:Boolean(n.kettle_id&&a.kettle_id),fullWidth:!0,helperText:n.kettle_id&&a.kettle_id,label:"Kettle ID",margin:"normal",variant:"outlined"}),r.a.createElement(x.a,{my:2},r.a.createElement(N.a,{color:"primary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Submit")))})))))}}]),a}(n.Component),Le=Object(Ce.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))(We),Ue=a(344),Pe=a(345),Re=a(57),Ie=a.n(Re),De=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={createOpen:!1},e.openCreate=function(){console.log("Opening create dialog"),e.setState({createOpen:!0})},e.closeCreate=function(){console.log("Closing create dialog"),e.setState({createOpen:!1})},e}return Object(te.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Z,{className:e.root,title:"Temperature Sensors"},r.a.createElement($.a,{maxWidth:!1},r.a.createElement(M.a,{variant:"h1",component:"h2"},"Temp Sensor List"),r.a.createElement(Be,{URL:"/api/devices/TempSensor/",type:"TempSensor"}),r.a.createElement(Ue.a,{onClose:this.closeCreate,open:this.state.createOpen},r.a.createElement(Le,{URL:"/api/devices/TempSensor/",handleClose:this.closeCreate}))),r.a.createElement(Pe.a,{color:"secondary","aria-label":"add",className:e.fab,onClick:this.openCreate},r.a.createElement(Ie.a,null)))}}]),a}(n.Component),Me=Object(de.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},fab:{margin:0,top:"auto",left:"auto",bottom:20,right:20,position:"fixed"}}}))(De),He=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={createOpen:!1},e.openCreate=function(){console.log("Opening create dialog"),e.setState({createOpen:!0})},e.closeCreate=function(){console.log("Closing create dialog"),e.setState({createOpen:!1})},e}return Object(te.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Z,{className:e.root,title:"Heaters"},r.a.createElement($.a,{maxWidth:!1},r.a.createElement(M.a,{variant:"h1",component:"h2"},"Heater List"),r.a.createElement(Be,{URL:"/api/devices/Heater/",type:"Heater"}),r.a.createElement(Ue.a,{onClose:this.closeCreate,open:this.state.createOpen},r.a.createElement(Le,{URL:"/api/devices/Heater/",handleClose:this.closeCreate}))),r.a.createElement(Pe.a,{color:"secondary","aria-label":"add",className:e.fab,onClick:this.openCreate},r.a.createElement(Ie.a,null)))}}]),a}(n.Component),ze=Object(de.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},fab:{margin:0,top:"auto",left:"auto",bottom:20,right:20,position:"fixed"}}}))(He),Ae=a(346),Ke=a(352),qe=a(277),Ge=a.n(qe),Je=a(353),Fe=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={createOpen:!1},e.close=function(){e.props.handleClose()},e.deleteKettle=function(){console.log("Deleting");var t=e.props.URL.concat(e.props.data.id);console.log(t),setTimeout((function(){fetch(t,{method:"DELETE",body:"",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)})),e.close()}),400)},e}return Object(te.a)(a,[{key:"render",value:function(){var e=this,t=this.props.data;return r.a.createElement("div",null,r.a.createElement(Oe.a,null,r.a.createElement($.a,{maxWidth:"sm"},r.a.createElement(ke.a,{initialValues:{name:t.name},validationSchema:Se.b().shape({name:Se.c().max(255).required("Name is required")}),onSubmit:function(t,a){var n=a.setSubmitting,r=e.props.URL.concat(e.props.data.id);console.log(r),setTimeout((function(){fetch(r,{method:"PUT",body:JSON.stringify(t,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)})),n(!1),e.close()}),400)}},(function(t){var a=t.values,n=t.errors,o=t.touched,l=t.handleChange,i=t.handleBlur,c=t.handleSubmit,s=t.isSubmitting;return r.a.createElement("form",{onSubmit:c},r.a.createElement(x.a,{mb:3},r.a.createElement(M.a,{color:"textPrimary",variant:"h2"},e.props.data.name),r.a.createElement(M.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"Use this Form to update this item.")),r.a.createElement(ve.a,null),r.a.createElement(je.a,{type:"text",name:"name",onChange:l,onBlur:i,value:a.name,error:Boolean(o.name&&n.name),fullWidth:!0,helperText:o.name&&n.name,label:"Name",margin:"normal",variant:"outlined"}),r.a.createElement(x.a,{my:2},r.a.createElement(N.a,{disabled:s,fullWidth:!0,size:"large",variant:"outlined",onClick:e.close},"Cancel")),r.a.createElement(x.a,{my:2},r.a.createElement(N.a,{disabled:s,fullWidth:!0,size:"large",variant:"outlined",onClick:e.deleteKettle},"Delete")),r.a.createElement(x.a,{my:2},r.a.createElement(N.a,{color:"primary",disabled:s,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Submit")))})))))}}]),a}(n.Component),Ve=Object(Ce.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))(Fe),$e=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editOpen:!1},e.showEdit=function(){e.setState({editOpen:!0})},e.hideEdit=function(){e.setState({editOpen:!1})},e.handleChange=function(t){e.setState(Object(E.a)({},t.target.name,t.target.checked));var a=e.props.URL.concat(t.target.name);console.log(a);var n={state:t.target.checked};setTimeout((function(){fetch(a,{method:"PUT",body:JSON.stringify(n,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)}))}),400)},e.hystChange=function(t,a,n){var r=e.props.URL.concat(n),o={hyst_window:a};setTimeout((function(){fetch(r,{method:"PUT",body:JSON.stringify(o,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)}))}),400)},e.tempChange=function(t,a,n){var r=e.props.URL.concat(n);r=r.concat("/targettemp");var o={temperature:a};setTimeout((function(){fetch(r,{method:"PUT",body:JSON.stringify(o,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)}))}),400)},e}return Object(te.a)(a,[{key:"valuetext",value:function(e){return"".concat(e,"\xb0C")}},{key:"render",value:function(){var e=this;return r.a.createElement(be.a,null,r.a.createElement(Ee.a,{title:this.props.data.name}),r.a.createElement(ve.a,null),r.a.createElement(xe.a,null,r.a.createElement(he.a,{container:!0,spacing:3},r.a.createElement(he.a,{item:!0,xs:6},r.a.createElement(M.a,{color:"textSecondary"},"Temperature")),r.a.createElement(he.a,{item:!0,xs:6},r.a.createElement(M.a,{color:"textSecondary"},null!=this.props.data.temp_sensor?this.props.data.temp_sensor.temperature:0)),r.a.createElement(he.a,{item:!0,xs:6},r.a.createElement(M.a,{color:"textSecondary"},"Pump")),r.a.createElement(he.a,{item:!0,xs:6},r.a.createElement(Ke.a,{checked:null!=this.props.data.pump&&this.props.data.pump.state,onChange:this.handleChange,name:String(this.props.data.id).concat("/pumpstate"),color:"primary",disabled:null==this.props.data.pump})),r.a.createElement(he.a,{item:!0,xs:6},r.a.createElement(M.a,{color:"textSecondary"},"Heater")),r.a.createElement(he.a,{item:!0,xs:6},r.a.createElement(Ke.a,{checked:null!=this.props.data.heater&&this.props.data.heater.state,onChange:this.handleChange,name:String(this.props.data.id).concat("/heaterstate"),color:"primary",disabled:!(null!=this.props.data.heater&&!this.props.data.is_running)})),r.a.createElement(he.a,{item:!0,xs:6},r.a.createElement(M.a,{color:"textSecondary"},"Control")),r.a.createElement(he.a,{item:!0,xs:6},r.a.createElement(Ke.a,{checked:this.props.data.is_running,onChange:this.handleChange,name:String(this.props.data.id).concat("/controlloop"),color:"primary",disabled:null==this.props.data.heater})),r.a.createElement(he.a,{item:!0,xs:6},r.a.createElement(M.a,{color:"textSecondary"},"Target Temperature")),r.a.createElement(he.a,{item:!0,xs:6},r.a.createElement(Je.a,{name:"SetTemp",defaultValue:0,getAriaValueText:this.valuetext,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",color:"secondary",step:1,min:10,max:100,onChangeCommitted:function(t,a){return e.tempChange(t,a,e.props.data.id)}})),r.a.createElement(he.a,{item:!0,xs:6},r.a.createElement(M.a,{color:"textSecondary"},"Hysteresis")),r.a.createElement(he.a,{item:!0,xs:6},r.a.createElement(Je.a,{name:"Hysteresis",defaultValue:0,getAriaValueText:this.valuetext,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",color:"secondary",step:1,min:1,max:10,onChangeCommitted:function(t,a){return e.hystChange(t,a,e.props.data.id)}}))),r.a.createElement(Ue.a,{onClose:this.showEdit,"aria-labelledby":"edit-dialog",open:this.state.editOpen},r.a.createElement(Ve,{handleClose:this.hideEdit,data:this.props.data,URL:this.props.URL}))),r.a.createElement(Ae.a,null,r.a.createElement(D.a,{"aria-label":"edit",onClick:this.showEdit},r.a.createElement(Ge.a,null))))}}]),a}(n.Component),Ye=Object(de.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},Icon:{height:38,width:38},container:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridGap:e.spacing(3)}}}))($e),Qe=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={datalist:[]},e}return Object(te.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.dataListId=setInterval((function(){return e.getapi()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.dataListId)}},{key:"getapi",value:function(){var e=this;fetch(this.props.URL).then((function(e){return e.json()})).then((function(t){e.setState({datalist:t})})).catch(console.log)}},{key:"render",value:function(){var e=this;return r.a.createElement(he.a,{container:!0,spacing:3},this.state.datalist.map((function(t){return r.a.createElement(he.a,{item:!0,lg:3,sm:6,xl:3,xs:12,key:t.id},r.a.createElement(Ye,{data:t,URL:e.props.URL}))})))}}]),a}(n.Component),Xe=Object(p.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},fab:{margin:0,top:"auto",left:"auto",bottom:20,right:20,position:"fixed"}}}));function Ze(){var e=Xe(),t=r.a.useState(!1),a=Object(f.a)(t,2),n=a[0],o=a[1],l=function(){o(!1)};return r.a.createElement("div",null,r.a.createElement(Pe.a,{color:"primary","aria-label":"add",className:e.fab,onClick:function(){o(!0)}},r.a.createElement(Ie.a,null)),r.a.createElement(ye.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:n,onClose:l,closeAfterTransition:!0,BackdropComponent:ge.a,BackdropProps:{timeout:500}},r.a.createElement(Oe.a,null,r.a.createElement($.a,{maxWidth:"sm"},r.a.createElement(ke.a,{initialValues:{name:""},validationSchema:Se.b().shape({name:Se.c().max(255).required("Name is required")}),onSubmit:function(e,t){var a=t.setSubmitting;setTimeout((function(){fetch("/api/devices/Kettle/",{method:"POST",body:JSON.stringify(e,null,2),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)})),a(!1),l()}),400)}},(function(e){var t=e.values,a=e.errors,n=e.touched,o=e.handleChange,l=e.handleBlur,i=e.handleSubmit,c=e.isSubmitting;return r.a.createElement("form",{onSubmit:i},r.a.createElement(x.a,{mb:3},r.a.createElement(M.a,{color:"textPrimary",variant:"h2"},"Create new Kettle"),r.a.createElement(M.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"Use this Form to create a new kettle.")),r.a.createElement(ve.a,null),r.a.createElement(je.a,{type:"text",name:"name",onChange:o,onBlur:l,value:t.name,error:Boolean(n.name&&a.name),fullWidth:!0,helperText:n.name&&a.name,label:"Name",margin:"normal",variant:"outlined"}),r.a.createElement(x.a,{my:2},r.a.createElement(N.a,{color:"primary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Submit")))}))))))}var et=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Z,{className:e.root,title:"Kettles"},r.a.createElement($.a,{maxWidth:!1},r.a.createElement(M.a,{variant:"h1",component:"h2"},"Kettle List"),r.a.createElement(Qe,{URL:"/api/devices/Kettle/"}),r.a.createElement(Ze,null)))}}]),a}(n.Component),tt=Object(de.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},fab:{margin:0,top:"auto",left:"auto",bottom:20,right:20,position:"fixed"}}}))(et),at=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={createOpen:!1},e.openCreate=function(){console.log("Opening create dialog"),e.setState({createOpen:!0})},e.closeCreate=function(){console.log("Closing create dialog"),e.setState({createOpen:!1})},e}return Object(te.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Z,{className:e.root,title:"Pumps"},r.a.createElement($.a,{maxWidth:!1},r.a.createElement(M.a,{variant:"h1",component:"h2"},"Pumps List"),r.a.createElement(Be,{URL:"/api/devices/Pump/",type:"Pump"}),r.a.createElement(Ue.a,{onClose:this.closeCreate,open:this.state.createOpen},r.a.createElement(Le,{URL:"/api/devices/Pump/",handleClose:this.closeCreate}))),r.a.createElement(Pe.a,{color:"secondary","aria-label":"add",className:e.fab,onClick:this.openCreate},r.a.createElement(Ie.a,null)))}}]),a}(n.Component),nt=Object(de.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},fab:{margin:0,top:"auto",left:"auto",bottom:20,right:20,position:"fixed"}}}))(at),rt=[{path:"app",element:r.a.createElement(J,null),children:[{path:"home",element:r.a.createElement(ue,null)},{path:"tempsensors",element:r.a.createElement(Me,null)},{path:"heaters",element:r.a.createElement(ze,null)},{path:"kettles",element:r.a.createElement(tt,null)},{path:"pumps",element:r.a.createElement(nt,null)},{path:"*",element:r.a.createElement(c.a,{to:"/404"})}]},{path:"/",element:r.a.createElement(V,null),children:[{path:"404",element:r.a.createElement(me,null)},{path:"/",element:r.a.createElement(c.a,{to:"/app/home"})},{path:"*",element:r.a.createElement(c.a,{to:"/404"})}]}],ot=function(){var e=Object(c.i)(rt);return r.a.createElement(s.a,{theme:b},r.a.createElement(d,null),e)};l.a.render(r.a.createElement(i.a,null,r.a.createElement(ot,null)),document.getElementById("root"))}},[[288,1,2]]]);
//# sourceMappingURL=main.3ba87630.chunk.js.map